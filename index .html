<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DC WiFi — Connect</title>

  <!-- Link to separate CSS file -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <div class="logo-circle">DC</div>
        <div class="brand-text">
          <h1>DC WiFi</h1>
          <p class="tag">Fast • Fair • Local</p>
        </div>
      </div>

      <nav class="top-nav">
        <button id="alreadyPaidBtn" class="link-btn">Already Paid?</button>
      </nav>
    </div>
  </header>

  <main class="main">
    <section class="intro container">
      <h2>Choose a package to connect</h2>
      <p class="lead">Select a plan. Then follow the M-Pesa prompt (simulation). After payment you get an automatic voucher and connection confirmation.</p>
    </section>

    <section class="packages container" aria-label="Packages">
      <!-- Packages are created to match your screenshots -->
      <div class="plan" data-name="TEST @ 5 BOB" data-price="5" data-duration="5">
        <h3>TEST @ 5 BOB</h3>
        <p class="price">Ksh 5 &middot; 5 minutes</p>
        <button class="buy-btn" data-package="TEST @ 5 BOB">Buy</button>
      </div>

      <div class="plan" data-name="1 HR UNLIMITED" data-price="10" data-duration="60">
        <h3>1 HR UNLIMITED</h3>
        <p class="price">Ksh 10 &middot; 1 hour</p>
        <button class="buy-btn" data-package="1 HR UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="4 HRS UNLIMITED" data-price="20" data-duration="240">
        <h3>4 HRS UNLIMITED</h3>
        <p class="price">Ksh 20 &middot; 4 hours</p>
        <button class="buy-btn" data-package="4 HRS UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="12 HRS UNLIMITED" data-price="30" data-duration="720">
        <h3>12 HRS UNLIMITED</h3>
        <p class="price">Ksh 30 &middot; 12 hours</p>
        <button class="buy-btn" data-package="12 HRS UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="24 HRS UNLIMITED" data-price="47" data-duration="1440">
        <h3>24 HRS UNLIMITED</h3>
        <p class="price">Ksh 47 &middot; 24 hours</p>
        <button class="buy-btn" data-package="24 HRS UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="3 DAYS UNLIMITED" data-price="120" data-duration="4320">
        <h3>3 DAYS UNLIMITED</h3>
        <p class="price">Ksh 120 &middot; 3 days</p>
        <button class="buy-btn" data-package="3 DAYS UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="5 DAYS UNLIMITED" data-price="160" data-duration="7200">
        <h3>5 DAYS UNLIMITED</h3>
        <p class="price">Ksh 160 &middot; 5 days</p>
        <button class="buy-btn" data-package="5 DAYS UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="1 WEEK UNLIMITED" data-price="200" data-duration="10080">
        <h3>1 WEEK UNLIMITED</h3>
        <p class="price">Ksh 200 &middot; 7 days</p>
        <button class="buy-btn" data-package="1 WEEK UNLIMITED">Buy</button>
      </div>

      <div class="plan" data-name="1 MONTH UNLIMITED" data-price="650" data-duration="43200">
        <h3>1 MONTH UNLIMITED</h3>
        <p class="price">Ksh 650 &middot; 30 days</p>
        <button class="buy-btn" data-package="1 MONTH UNLIMITED">Buy</button>
      </div>
    </section>

    <section class="actions container">
      <div class="card small">
        <h4>Already have voucher / username?</h4>
        <form id="voucherForm" autocomplete="off">
          <input type="text" id="voucherCode" placeholder="Voucher / Username" />
          <input type="text" id="voucherPhone" placeholder="Phone number (07...)" />
          <button type="submit" class="btn">Activate</button>
        </form>
      </div>

      <div class="card small">
        <h4>Submit M-Pesa message (manual)</h4>
        <form id="mpesaMsgForm">
          <textarea id="mpesaMsg" placeholder="Copy full M-Pesa SMS text here"></textarea>
          <button type="submit" class="btn">Submit Mpesa</button>
        </form>
      </div>
    </section>

    <section class="faq container">
      <h3>FAQ</h3>
      <details>
        <summary>How do I pay?</summary>
        <p>Choose a package, press Buy → you will see an M-Pesa simulation on-screen. For real deployment we will connect Daraja (Safaricom) to trigger STK pushes.</p>
      </details>

      <details>
        <summary>What if my phone doesn't get prompt?</summary>
        <p>You can paste your M-Pesa SMS text in the 'Submit M-Pesa message' box. For real deployments the backend verifies payments via the Daraja callback.</p>
      </details>

      <details>
        <summary>Contact</summary>
        <p>Email: contact@dcwifi.example | Phone: +2547xxxxxxx</p>
      </details>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> DC WiFi — All rights reserved.</p>
    </div>
  </footer>

  <!-- Modal: Payment simulation -->
  <div id="mpesaModal" class="modal" aria-hidden="true">
    <div class="modal-dialog">
      <button id="closeModal" class="close-btn" title="Close">✕</button>
      <h3 id="modalTitle">Confirm payment</h3>

      <div class="modal-body">
        <p id="selectedPlanLine" class="muted">Plan: —</p>

        <label for="phoneInput">Phone number</label>
        <input id="phoneInput" type="tel" placeholder="07xxxxxxxx" inputmode="numeric" />

        <div class="stk-actions">
          <button id="simulateStk" class="btn primary">Simulate STK Push</button>
          <button id="simulateFail" class="btn ghost">Simulate Fail</button>
        </div>

        <div id="stkProgress" class="stk-progress hidden">
          <p class="muted">Waiting for user to complete payment on phone...</p>
          <div class="loader"></div>
        </div>

        <div id="stkResult" class="stk-result hidden">
          <p id="resultMsg"></p>
          <p><strong>Voucher:</strong> <span id="generatedVoucher">—</span></p>
          <button id="doneBtn" class="btn">Done</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Link to external JS file -->
  <script src="script.js" defer></script>
</body>
</html>
